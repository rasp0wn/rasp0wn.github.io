---
title: "Cómo instalar Protostar y practicar exploiting"
date: 2021-08-03T16:33:30-04:05
categories:
  - blog
tags:
  - hacking
  - protostar
---
En esta ocasión vamos a ver cómo instalar Protostar y practicar exploiting. Protostar es una máquina virtual de la plataforma <a href="https://exploit.education/">Exploit Exercises</a> que nos ayudará a practicar ciertos conceptos como los Buffer Overflows. 

El objetivo será el de ir resolviendo todos o casi todos los retos para aprender y mejorar nuestras habilidades de hacking (destacar que yo voy aprendiendo según voy haciendo las cosas, no soy ningún experto en la materia). Los retos se encuentran ya previamente compilados en la imagen que vamos a instalar aunque si queremos ver el código fuente los podréis encontrar en este <a href="https://exploit.education/protostar/stack-zero/">enlace</a>.

## Cómo descargar Protostar

Para descargar la imagen de Protostar nos vamos a la siguiente <a href="https://exploit.education/downloads/">enlace</a> y hacemos click donde pone Protostar Google Drive directory.

![protostart_descarga.png](/assets/images/posts/protostart_descarga.png)

Cuando se nos abra Google Drive simplemente le damos botón derecho al archivo > Descargar. A continuación prepararemos el software de virtualización y veremos como montar la imagen descargada.

## Software de virtualización para instalar Protostar y practicar exploiting

Para montar la imagen de Protostar en una VM (Virtual Machine) primero necesitaremos un software que nos permita virtualizar un sistema operativo. Los más comunes son VMWare y VirtualBox (en mi caso utilizaré este último ya que estoy más acostumbrado). VirtualBox está disponibles para Windows, Linux y Mac OS y lo podemos descargar desde el siguiente <a href="https://www.virtualbox.org/wiki/Downloads">enlace</a>.

![virtualbox_descarga.png](/assets/images/posts/virtualbox_descarga.png)

Cuando lo hayamos descargado simplemente le damos click, siguiente/acepto y listo. Se nos abrirá el programa (en vuestro caso no aparecerá ninguna máquina ya que aún no la hemos instalado):

![virtualbox_captura.png](/assets/images/posts/virtualbox_captura.png)

## Cómo montar la VM para instalar Protostar y practicar exploiting

Una vez hemos abierto VirtualBox, le damos al botón (arriba a la derecha en forma de estrella azul) donde dice «Nueva». Le pondremos un nombre descriptivo como «Protostar», seleccionamos la ruta donde queremos guardar la VM y seleccionamos el tipo de sistema que vamos a montar. En el caso de Protostar tendremos que poner «Tipo: Linux» y «Versión: Debian 32-bit».

![virtualbox_protostarInitconf.png](/assets/images/posts/virtualbox_protostarInitconf.png)

Tras esto le damos a siguiente y le asignamos la cantidad de RAM que deseemos. Con 1GB es más que suficiente:

![virtualbox_ramassign.png](/assets/images/posts/virtualbox_ramassign.png)

A continuación, creamos el disco virtual donde se alojará el sistema. Para ello dejamos seleccionada la opción «Crear un disco duro virtual ahora» y le damos a «Crear». Lo dejamos en VDI (VirtualBox Disk Image), damos a siguiente y lo dejamos en «Reservado dinámicamente». Le volvemos a dar a siguiente y se nos abrirá la ventana para elegir dónde vamos a guardar ese disco virtual y qué tamaño le vamos a asignar (con los 8GB por defecto es suficiente):

![virtualbox_vdi_creacion.png](/assets/images/posts/virtualbox_vdi_creacion.png)

Pulsamos en «Crear» y ya tendremos la máquina guardada en VirtualBox. Sin embargo, todavía no hemos instalado la imagen de Protostar que nos hemos descargado. Para ello hacemos click derecho sobre la máquina «Protostar» que nos aparece en VirtualBox, le damos a configuración, nos vamos a la pestaña «Almacenamiento» y debajo de «Controlador: IDE» vemos que aparecerá un icono de un CD que pone «Vacío». Hacemos click en el icono y a la derecha donde pone «Unidad óptica: » le damos al icono del CD con una flechita y se desplegará un menú. Le damos donde pone «Seleccione archivo de disco óptico virtual», se nos abrirá el explorador de archivos y elegimos la imagen que hemos descargado de Protostar anteriormente.

![virtualbox_imagen_instalacion1-1.png](/assets/images/posts/virtualbox_imagen_instalacion1-1.png)

Pulsamos «Aceptar» y ya podemos podemos iniciar la máquina (haciendo doble click sobre ella o pulsando sobre el botón «Iniciar»). Cuando se haya iniciado por completo nos pedirá las credenciales de login.

![virtualbox_protostar_login.png](/assets/images/posts/virtualbox_protostar_login.png)

Las credenciales son las siguientes (usuario:contraseña):

```
user:user
root:godmode
```

Para los ejercicios utilizaremos únicamente el usuario «user» ya que el usuario «root» se encuentra disponible solo por si tenemos que solucionar algún problema o queremos depurar de otras formas los programas de los retos.

## Uso de la VM

Una vez hemos iniciado sesión con las credenciales de «user» podríamos ponernos directamente con los ejercicios. Sin embargo, es más cómodo conectarnos por SSH desde nuestra propia terminal y realizarlos desde allí (en mi caso los retos los he hecho conectados desde una Raspberry Pi a la que accedía por VNC).

Para poder conectarnos por SSH tendremos que configurar la VM de forma que tenga una IP de nuestra red. Primero apagamos la máquina virtual (botón de cerrar ventana > Apagar máquina). Tras esto, le damos click derecho a la máquina que hemos creado en VirtualBox > Configuración > Red y cambiamos donde pone «Conectado a: NAT» por «Adaptador Puente». Aceptamos y volvemos a iniciar la máquina virtual. Para comprobar la dirección IP de la máquina ponemos el comando:

```
ip a
```

Y en la información de la interfaz «eth0» podremos ver la dirección IP que tiene la máquina que será a la que nos conectaremos por SSH.


![protostar_ip.png](/assets/images/posts/protostar_ip.png)

Finalmente, ya podremos conectarnos a la VM de Protostar desde nuestro propio equipo (o desde una Raspberry por SSH de forma similar a cómo se explica <a href="https://rasp0wn.github.io/blog/como-conectarse-a-una-raspberry-pi-por-ssh/">aquí</a>) y comenzar a resolver los retos. Todos los retos se encuentran en la ruta /opt/protostar/bin. Para ver el código fuente de cada uno de ellos y una pista de lo que tenemos que hacer podemos visitar la siguiente <a href="https://exploit.education/protostar/stack-zero/">página</a>. Iré publicando la resolución de los retos poco a poco intentando explicarlos lo mejor posible, ¡así que estad atentos a la sección de hacking!


